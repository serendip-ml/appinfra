# Infrastructure configuration file
# ===================================
# This file contains configuration for various infrastructure components including:
# - Logging settings and levels
# - PostgreSQL server configuration
# - Database connections and pool settings
# - Test configuration and cleanup
# - Error handling and logging
#
# Supports variable substitution: ${variable_name}
# Supports environment variable overrides: INFRA_<SECTION>_<SUBSECTION>_<KEY>
# See etc/README.md for comprehensive documentation

# Logging Configuration
# ======================
# Logging configuration is in a separate file
# See etc/lg.yaml for complete logging configuration
logging: !include lg.yaml#logging


# PostgreSQL Configuration
# =========================
# PostgreSQL server and database configurations are in a separate file
# See etc/pg.yaml for complete pgserver and dbs configuration
pgserver: !include pg.yaml#pgserver
dbs: !include pg.yaml#dbs

# Test Configuration
# ==================
# Controls test execution behavior and cleanup
# Note: No timeout configured - CursorIDE and test runners handle timeouts
test:
  cleanup: true                # Cleanup test data after tests complete (default: true)
  create_test_tables: true     # Automatically create test tables if they don't exist (default: true)
  logging:
    level: false               # Test logging level (false = disabled to reduce noise, can be overridden with INFRA_TEST_LOGGING_LEVEL)
    colors: true               # Enable colored output in test logs (default: true, can be overridden with INFRA_TEST_LOGGING_COLORS_ENABLED)
    location_color: null       # Color for code locations in test logs (null = default BLACK)

